{
    "info": {
        "title": "gChess API",
        "version": "1.0.0",
        "description": "A chess application built with Kotlin following Domain-Driven Design.\n\n## Features\n- User registration and authentication with JWT\n- Chess game creation with player validation\n- Move validation according to FIDE rules\n- Bitboard-based chess engine\n\n## Authentication\nMost endpoints require JWT authentication. Use the `/api/auth/login` endpoint\nto obtain a token, then include it in the `Authorization` header as `Bearer <token>`.",
        "contact": {
            "name": "gChess Team",
            "email": "gbourquet@gmail.com"
        }
    },
    "servers": [
        {
            "url": "http://localhost:8080",
            "description": "Local development server"
        }
    ],
    "paths": {
        "/api/auth/register": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Register a new user",
                "description": "Create a new user account with username, email, and password",
                "parameters": [],
                "requestBody": {
                    "description": "User registration information",
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/RegisterRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "201": {
                        "description": "Successfully created user",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UserDTO"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Registration failed (username/email already taken, invalid password, etc.)",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Map-String-String"
                                }
                            }
                        }
                    }
                }
            },
            "parameters": []
        },
        "/api/auth/login": {
            "post": {
                "tags": [
                    "Authentication"
                ],
                "summary": "Login",
                "description": "Authenticate a user and receive a JWT token",
                "parameters": [],
                "requestBody": {
                    "description": "User credentials",
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/LoginRequest"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "Successfully authenticated - returns user info and JWT token",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/LoginResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Invalid credentials",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Map-String-String"
                                }
                            }
                        }
                    }
                }
            },
            "parameters": []
        },
        "/api/bots": {
            "get": {
                "tags": [
                    "Bots"
                ],
                "summary": "List all bots",
                "description": "Retrieve a list of all available bot opponents with their difficulty levels",
                "parameters": [],
                "responses": {
                    "200": {
                        "description": "List of all available bots",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/List-BotDTO"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Failed to retrieve bots",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Map-String-String"
                                }
                            }
                        }
                    }
                }
            },
            "parameters": []
        },
        "/api/bots/{id}": {
            "get": {
                "tags": [
                    "Bots"
                ],
                "summary": "Get bot by ID",
                "description": "Retrieve detailed information about a specific bot opponent",
                "parameters": [],
                "responses": {
                    "200": {
                        "description": "Bot details",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/BotDTO"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid bot ID format",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Map-String-String"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Bot not found",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Map-String-String"
                                }
                            }
                        }
                    }
                }
            },
            "parameters": [
                {
                    "name": "id",
                    "in": "path",
                    "schema": {
                        "type": "string"
                    },
                    "description": "Bot ID (ULID format)"
                }
            ]
        }
    },
    "components": {
        "schemas": {
            "UserDTO": {
                "type": "object",
                "properties": {
                    "email": {
                        "type": "string"
                    },
                    "id": {
                        "type": "string"
                    },
                    "username": {
                        "type": "string"
                    }
                },
                "required": [
                    "email",
                    "id",
                    "username"
                ]
            },
            "Map-String-String": {
                "additionalProperties": {
                    "type": "string"
                }
            },
            "RegisterRequest": {
                "type": "object",
                "properties": {
                    "email": {
                        "type": "string"
                    },
                    "password": {
                        "type": "string"
                    },
                    "username": {
                        "type": "string"
                    }
                },
                "required": [
                    "email",
                    "password",
                    "username"
                ]
            },
            "LoginResponse": {
                "type": "object",
                "properties": {
                    "message": {
                        "type": "string"
                    },
                    "token": {
                        "type": "string"
                    },
                    "user": {
                        "$ref": "#/components/schemas/UserDTO"
                    }
                },
                "required": [
                    "token",
                    "user"
                ]
            },
            "LoginRequest": {
                "type": "object",
                "properties": {
                    "password": {
                        "type": "string"
                    },
                    "username": {
                        "type": "string"
                    }
                },
                "required": [
                    "password",
                    "username"
                ]
            },
            "BotDTO": {
                "type": "object",
                "properties": {
                    "description": {
                        "type": "string"
                    },
                    "difficulty": {
                        "type": "string"
                    },
                    "id": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    }
                },
                "required": [
                    "description",
                    "difficulty",
                    "id",
                    "name"
                ]
            },
            "List-BotDTO": {
                "items": {
                    "$ref": "#/components/schemas/BotDTO"
                }
            }
        }
    }
}