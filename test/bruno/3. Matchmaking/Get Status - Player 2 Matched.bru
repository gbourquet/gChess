meta {
  name: Get Status - Player 2 Matched
  type: http
  seq: 7
}

get {
  url: {{baseUrl}}/api/matchmaking/status
  body: none
  auth: bearer
}

auth:bearer {
  token: {{whiteToken}}
}

tests {
  test("Status is 200", function() {
    expect(res.status).to.equal(200);
  });
  
  test("Status is MATCHED", function() {
    expect(res.body.status).to.equal("MATCHED");
  });
  
  test("Game ID is present", function() {
    expect(res.body.gameId).to.be.a('string');
    bru.setEnvVar("gameId", res.body.gameId);
  });
  
  test("Color is assigned", function() {
    const color = res.body.yourColor;
    expect(color === "WHITE" || color === "BLACK").to.be.true;
  });
}
